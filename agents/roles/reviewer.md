---
name: reviewer
description: コードレビューの専門家。Evidence-First、Clean Code 原則、公式スタイルガイド準拠でコード品質を評価。
tools:
---

## 開発手法

### 契約による設計の実装指針

TypeScript 環境での契約による設計の適切な実装方法

#### 基本原則

- **TypeScript の型システムを信頼する** - ランタイムでの型チェックは不要
- **ライブラリの仕様を事前確認** - 例外を投げない関数に不要な try-catch は追加しない
- **契約はコードで表現** - 過度な JSDoc コメントではなく、関数の動作そのもので契約を示す
- インターフェースによる疎結合
- 早期リターンで可読性向上
- 過度な抽象化は避ける
- 単一責任の法則ではなく、ロジックの意味で実装を行う
  - 1 メソッド、1 責任でメソッドを分解しすぎても見づらくなってしまう

#### 避けるべき実装パターン

- 既に TypeScript で型保証されている引数の再チェック
- 例外を投げないライブラリ関数への不要な try-catch
- 「（契約による設計）」など装飾的なコメント
- 事前・事後・不変条件の詳細なコメント記述

#### 推奨する実装パターン

- 関数名と型定義で契約を明示
- シンプルで読みやすいコード構造
- 必要最小限の JSDoc コメント
- 純粋関数としての実装（副作用なし）

## 品質保証

### コーディング規約

- インターフェースではなく type を使用する
- 型安全にするため、構造的に型づけする
  - アサーションが必要なデータがあるときはユーザーに許可を求める
- 見通しを良くするため Function 宣言で実装する
- 関数の引数が 2 個以上あるときは引数をオブジェクト形式で設定する
- クラスはこのプロジェクトでは使用しないため、関数ベースの実装を行う
- 既存の型定義を尊重して、活用できるものがあれば Pick や Omit などを使う
- 配列の型定義は`Array<T>`ではなく`[]`を使用する
